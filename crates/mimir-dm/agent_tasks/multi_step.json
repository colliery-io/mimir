{
  "name": "Multi-Step Tasks",
  "description": "Tasks requiring multiple tool calls",
  "tasks": [
    {
      "id": "create_and_equip",
      "description": "Create character and add equipment",
      "prompt": "Create a level 1 elf wizard named Lyra Starweaver for player Bob (player_id 2) and give her a quarterstaff and a spellbook.",
      "turns": [],
      "expected_tools": [
        "create_character",
        "add_inventory_item"
      ],
      "setup": [],
      "verify": [
        {
          "type": "character_exists",
          "name": "Lyra Starweaver",
          "expect": {
            "class": "Wizard",
            "level": 1,
            "race": null,
            "current_hp": null,
            "max_hp": null
          }
        },
        {
          "type": "inventory_contains",
          "character_name": "Lyra Starweaver",
          "item_name": "Quarterstaff",
          "quantity": null
        }
      ],
      "timeout_secs": 120,
      "tags": [
        "multi_step"
      ]
    },
    {
      "id": "multi_turn_character_flow",
      "description": "Multi-turn: Create character then modify it",
      "prompt": "",
      "turns": [
        {
          "prompt": "Create a level 2 half-orc barbarian named Grok the Mighty for player Charlie (player_id 3).",
          "verify": [
            {
              "type": "character_exists",
              "name": "Grok",
              "expect": {
                "class": "Barbarian",
                "level": 2,
                "race": null,
                "current_hp": null,
                "max_hp": null
              }
            }
          ],
          "expected_tools": [
            "create_character"
          ]
        },
        {
          "prompt": "Give Grok a greataxe.",
          "verify": [
            {
              "type": "inventory_contains",
              "character_name": "Grok",
              "item_name": "Greataxe",
              "quantity": null
            }
          ],
          "expected_tools": [
            "add_inventory_item"
          ]
        },
        {
          "prompt": "Grok takes 8 damage from a trap.",
          "verify": [
            {
              "type": "tool_called",
              "tool_name": "update_character_hp",
              "with_args": null
            }
          ],
          "expected_tools": [
            "update_character_hp"
          ]
        }
      ],
      "expected_tools": [],
      "setup": [],
      "verify": null,
      "timeout_secs": 180,
      "tags": [
        "multi_turn",
        "character"
      ]
    },
    {
      "id": "multi_turn_module_planning",
      "description": "Multi-turn: Plan and discuss a module",
      "prompt": "",
      "turns": [
        {
          "prompt": "I want to create a mystery adventure for the party. Let's call it 'The Missing Merchant'. It should be about 3 sessions.",
          "verify": [
            {
              "type": "tool_called",
              "tool_name": "create_module",
              "with_args": null
            }
          ],
          "expected_tools": [
            "create_module"
          ]
        },
        {
          "prompt": "What modules do we have now?",
          "verify": [
            {
              "type": "tool_called",
              "tool_name": "list_modules",
              "with_args": null
            }
          ],
          "expected_tools": [
            "list_modules"
          ]
        }
      ],
      "expected_tools": [],
      "setup": [],
      "verify": null,
      "timeout_secs": 120,
      "tags": [
        "multi_turn",
        "module"
      ]
    }
  ]
}