{
  "name": "Character Management",
  "description": "Tasks testing character creation and modification",
  "tasks": [
    {
      "id": "create_fighter",
      "description": "Create a basic fighter character and level it up",
      "prompt": "Create a level 1 human fighter named Gareth Stonewall for player Alice (player_id 1), then level him up to level 3. He should end up with 28 max HP.",
      "turns": [],
      "expected_tools": [
        "create_character",
        "level_up"
      ],
      "setup": [],
      "verify": [
        {
          "type": "character_exists",
          "name": "Gareth Stonewall",
          "expect": {
            "class": "Fighter",
            "level": 3,
            "race": "Human",
            "current_hp": null,
            "max_hp": 28
          }
        },
        {
          "type": "tool_called",
          "tool_name": "create_character",
          "with_args": null
        }
      ],
      "timeout_secs": 120,
      "tags": [
        "character",
        "creation"
      ]
    },
    {
      "id": "update_hp",
      "description": "Update character HP after taking damage",
      "prompt": "Bruenor just took 15 damage from a goblin attack. Update his HP.",
      "turns": [],
      "expected_tools": [
        "update_character_hp"
      ],
      "setup": [
        {
          "type": "create_character",
          "name": "Bruenor",
          "class": "Fighter",
          "level": 5,
          "race": "Dwarf"
        }
      ],
      "verify": [
        {
          "type": "tool_called",
          "tool_name": "update_character_hp",
          "with_args": null
        },
        {
          "type": "no_errors"
        }
      ],
      "timeout_secs": 60,
      "tags": [
        "character",
        "hp"
      ]
    },
    {
      "id": "add_inventory",
      "description": "Add an item to character inventory",
      "prompt": "Add a Longsword to Tordek's inventory.",
      "turns": [],
      "expected_tools": [
        "add_inventory_item"
      ],
      "setup": [
        {
          "type": "create_character",
          "name": "Tordek",
          "class": "Fighter",
          "level": 4,
          "race": "Dwarf"
        }
      ],
      "verify": [
        {
          "type": "inventory_contains",
          "character_name": "Tordek",
          "item_name": "Longsword",
          "quantity": 1
        }
      ],
      "timeout_secs": 60,
      "tags": [
        "character",
        "inventory"
      ]
    }
  ]
}